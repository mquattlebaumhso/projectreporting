{
  "maker": "HSO",
  "publisher": "HSO",
  "tablePrefix": "hso_",
  "tables": [
    {
      "logicalName": "hso_project",
      "displayName": "Project",
      "description": "Top-level project record",
      "primaryField": "hso_projectid",
      "columns": [
        {"name":"hso_projectid","displayName":"Project Id","type":"UniqueIdentifier","required":true},
        {"name":"hso_name","displayName":"Name","type":"String","required":true,"maxLength":200},
        {"name":"hso_projectnumber","displayName":"Project Number","type":"String","required":false,"maxLength":50,"indexed":true},
        {"name":"hso_projecttype","displayName":"Project Type","type":"Choice","choices":["Internal","Customer","R&amp;D","Operational"]},
        {"name":"hso_managerid","displayName":"Project Manager","type":"Lookup","target":"systemuser","required":false,"indexed":true},
        {"name":"hso_startdate","displayName":"Start Date","type":"DateTime"},
        {"name":"hso_enddate","displayName":"End Date","type":"DateTime"},
        {"name":"hso_status","displayName":"Status","type":"Choice","choices":["Proposed","Active","On Hold","Completed","Cancelled"]},
        {"name":"hso_percentcomplete","displayName":"Percent Complete","type":"Decimal","precision":2,"calculated":true,"calculation":"(Sum of completed work / Total work) * 100"}
      ]
    },
    {
      "logicalName": "hso_task",
      "displayName": "Task",
      "description": "Work breakdown tasks belonging to a project",
      "primaryField": "hso_taskid",
      "columns": [
        {"name":"hso_taskid","displayName":"Task Id","type":"UniqueIdentifier","required":true},
        {"name":"hso_projectid","displayName":"Project","type":"Lookup","target":"hso_project","required":true,"indexed":true},
        {"name":"hso_parenttaskid","displayName":"Parent Task","type":"Lookup","target":"hso_task"},
        {"name":"hso_title","displayName":"Title","type":"String","maxLength":250},
        {"name":"hso_ownerid","displayName":"Owner","type":"Lookup","target":"systemuser"},
        {"name":"hso_efforthours","displayName":"Effort (hours)","type":"Decimal","precision":2},
        {"name":"hso_status","displayName":"Status","type":"Choice","choices":["Not Started","In Progress","Blocked","Complete"]}
      ]
    },
    {
      "logicalName": "hso_milestone",
      "displayName": "Milestone",
      "description": "Key milestones within a project",
      "primaryField": "hso_milestoneid",
      "columns": [
        {"name":"hso_milestoneid","displayName":"Milestone Id","type":"UniqueIdentifier"},
        {"name":"hso_projectid","displayName":"Project","type":"Lookup","target":"hso_project","required":true},
        {"name":"hso_name","displayName":"Name","type":"String","maxLength":200},
        {"name":"hso_duedate","displayName":"Due Date","type":"DateTime"},
        {"name":"hso_status","displayName":"Status","type":"Choice","choices":["Planned","At Risk","Achieved","Missed"]}
      ]
    },
    {
      "logicalName": "systemuser",
      "displayName": "User",
      "description": "People who work on projects (use Dataverse systemuser where possible)",
      "primaryField": "systemuserid",
      "columns": [
        {"name":"systemuserid","displayName":"User Id","type":"UniqueIdentifier"},
        {"name":"fullname","displayName":"Full Name","type":"String","maxLength":200},
        {"name":"email","displayName":"Email","type":"String","maxLength":100},
        {"name":"role","displayName":"Role","type":"Choice","choices":["Project Manager","Engineer","Finance","Sponsor","PMO"]},
        {"name":"costrate","displayName":"Cost Rate","type":"Money","precision":2}
      ]
    },
    {
      "logicalName": "hso_cost",
      "displayName": "Cost",
      "description": "Costs charged to a project",
      "primaryField": "hso_costid",
      "columns": [
        {"name":"hso_costid","displayName":"Cost Id","type":"UniqueIdentifier"},
        {"name":"hso_projectid","displayName":"Project","type":"Lookup","target":"hso_project","required":true},
        {"name":"hso_amount","displayName":"Amount","type":"Money","precision":2},
        {"name":"hso_costtype","displayName":"Cost Type","type":"Choice","choices":["Labor","Material","Travel","Other"]},
        {"name":"hso_incurreddate","displayName":"Incurred Date","type":"DateTime"}
      ]
    },
    {
      "logicalName": "hso_budget",
      "displayName": "Budget",
      "description": "Budget or forecast entries per project and period",
      "primaryField": "hso_budgetid",
      "columns": [
        {"name":"hso_budgetid","displayName":"Budget Id","type":"UniqueIdentifier"},
        {"name":"hso_projectid","displayName":"Project","type":"Lookup","target":"hso_project","required":true},
        {"name":"hso_periodstart","displayName":"Period Start","type":"DateTime"},
        {"name":"hso_periodend","displayName":"Period End","type":"DateTime"},
        {"name":"hso_amount","displayName":"Amount","type":"Money","precision":2},
        {"name":"hso_type","displayName":"Budget Type","type":"Choice","choices":["Planned","Revised","Forecast"]}
      ]
    },
    {
      "logicalName": "hso_risk",
      "displayName": "Risk / Issue",
      "description": "Risks and issues tied to a project",
      "primaryField": "hso_riskid",
      "columns": [
        {"name":"hso_riskid","displayName":"Risk Id","type":"UniqueIdentifier"},
        {"name":"hso_projectid","displayName":"Project","type":"Lookup","target":"hso_project","required":true},
        {"name":"hso_title","displayName":"Title","type":"String","maxLength":250},
        {"name":"hso_severity","displayName":"Severity","type":"Choice","choices":["Low","Medium","High","Critical"]},
        {"name":"hso_status","displayName":"Status","type":"Choice","choices":["Open","Mitigating","Closed"]},
        {"name":"hso_ownerid","displayName":"Owner","type":"Lookup","target":"systemuser"}
      ]
    },
    {
      "logicalName": "hso_statusupdate",
      "displayName": "Status Update",
      "description": "Periodic status updates for a project",
      "primaryField": "hso_statusupdateid",
      "columns": [
        {"name":"hso_statusupdateid","displayName":"Status Update Id","type":"UniqueIdentifier"},
        {"name":"hso_projectid","displayName":"Project","type":"Lookup","target":"hso_project","required":true},
        {"name":"hso_periodstart","displayName":"Period Start","type":"DateTime"},
        {"name":"hso_periodend","displayName":"Period End","type":"DateTime"},
        {"name":"hso_percentcomplete","displayName":"Percent Complete","type":"Decimal","precision":2},
        {"name":"hso_health","displayName":"Health","type":"Choice","choices":["Green","Yellow","Red"]},
        {"name":"hso_notes","displayName":"Notes","type":"MultilineText","maxLength":4000},
        {"name":"hso_needsapproval","displayName":"Needs Approval","type":"TwoOptions","options":["No","Yes"]}
      ]
    },
    {
      "logicalName": "hso_attachment",
      "displayName": "Attachment",
      "description": "Metadata for files stored in SharePoint / Blob",
      "primaryField": "hso_attachmentid",
      "columns": [
        {"name":"hso_attachmentid","displayName":"Attachment Id","type":"UniqueIdentifier"},
        {"name":"hso_parentrecordid","displayName":"Parent Record Id","type":"UniqueIdentifier"},
        {"name":"hso_parententity","displayName":"Parent Entity","type":"String","maxLength":100},
        {"name":"hso_filename","displayName":"File Name","type":"String","maxLength":260},
        {"name":"hso_filesize","displayName":"File Size","type":"Integer"},
        {"name":"hso_fileurl","displayName":"File Url","type":"String","maxLength":2000}
      ]
    }
  ],
  "notes": "Use Dataverse choice tables for multi-language support where needed; create indexes on foreign keys and frequently-filtered fields such as hso_projectid, hso_managerid, and period fields. Implement calculated and rollup fields for CPI/SPI in a reporting layer rather than as expensive Dataverse rollups for large datasets. Store large files in SharePoint/Blob and keep only metadata in Dataverse."
}
